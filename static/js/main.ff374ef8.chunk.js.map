{"version":3,"sources":["js/store/vk/actions.js","js/store/vk/actionTypes.js","js/services/VK.js","js/services/_functions.js","js/store/router/reducers.js","js/store/vk/reducers.js","js/store/formData/reducers.js","js/store/reducers.js","js/store/router/actionTypes.js","js/store/formData/actionTypes.js","js/store/router/actions.js","js/panels/home/base.js","js/components/GroupCell.js","js/services/renderers.js","js/panels/home/groups.js","js/panels/more/base.js","js/panels/more/example.js","js/store/formData/actions.js","js/components/modals/HomeBotsListModal.js","js/components/modals/HomeBotInfoModal.js","js/panels/market/store.js","App.js","index.js"],"names":["setAccessToken","accessToken","type","payload","APICall","method","params","store","getState","vkui","undefined","VKConnect","send","then","data","response","catch","error","restoreScrollPosition","scrolls","componentScroll","Object","keys","forEach","component","componentData","element","document","getElementById","getElementsByClassName","scrollLeft","x","scrollTop","y","initialState","activeStory","activeView","activePanel","storiesHistory","viewsHistory","panelsHistory","activeModals","modalHistory","popouts","scrollPosition","colorScheme","activeTab","forms","combineReducers","state","arguments","length","action","objectSpread","defineProperty","tab","router","View","view","Panel","panel","window","history","pushState","viewIndexInHistory","indexOf","splice","concat","toConsumableArray","pageYOffset","story","initial_panel","firstPanel","shift","firstView","scrollTo","smoothScrollToTop","c","documentElement","body","requestAnimationFrame","setView","setPanel","setStory","popoutsData","viewModalsHistory","activeModal","push","pop","panelsHistoryNew","from","status","popout","id","modalsHistory","formData","form","goBack","openPopout","closePopout","openModal","closeModal","HomePanelBase","groups","admined","other","loading","errorGetAuthToken","showImg","firstName","lastName","ava","_id","statusOld","statusNew","maxCount","result","_this","setState","this","connect","sendPromise","profile","first_name","last_name","photo_200","fetch","json","console","log","challenge","forceUpdate","_this$props","props","items","i","react_default","a","createElement","es6","key","slideWidth","align","style","height","className","name","level","before","user_outgoing_default","photo","description","src","size","React","Component","GroupCell","desc","PureComponent","renderGroupsList","map","group","components_GroupCell","photo_100","HomePanelGroups","getAuthToken","getGroupsList","scope","dispatch","app_id","join","access_token","prevProps","prevState","snapshot","localStorage","getItem","JSON","parse","extended","fields","count","adminedGroups","filter","item","is_admin","otherGroups","setItem","stringify","_this2","adminedGroupsList","otherGroupsList","left","onClick","stretched","title","bindActionCreators","HomePanelProfile","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","idLink","obj","group_id","e","location","reload","setPage","_loop","money_circle_default","sendPay","serverPush","noShadow","vertical","theme","setTab","selected","defaultInputData","workplace","workposition","checkboxPhoto","checkboxOnline","inputData","handleInput","value","currentTarget","checked","clearForm","setFormData","top","onChange","placeholder","autoComplete","mapDispatchToProps","formName","bots","avatar","HomeBotsListModal","onClose","header","IS_PLATFORM_IOS","cancel_default","right","dismiss_default","settlingHeight","bot","index","asideContent","chevron_default","fill","Market","el","res","actions","autoclose","_this3","logo_vk_default","gift_default","serverGet","App","lastAndroidBackAction","VKConnectOld","subscribe","VKConnectOldCallback","detail","unsubscribe","scheme","onpopstate","timeNow","Date","_this$props2","pageScrollPosition","scroll","_this$props3","homeModals","modals_HomeBotsListModal","HomeBotInfoModal","isWebView","tabbar","market_outline_default","article_outline_default","user_default","modal","onSwipeBack","base","withoutEpic","home_groups","more_base","example","__webpack_require__","d","__webpack_exports__","src_store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","react_redux_es","src_App"],"mappings":"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","file":"static/js/main.ff374ef8.chunk.js","sourcesContent":["import {\r\n    SET_COLOR_SCHEME,\r\n    SET_ACCESS_TOKEN,\r\n    SET_ACTIVE_TAB,\r\n    SET_SCROLL_POSITION,\r\n    SET_SCROLL_POSITION_BY_ID\r\n} from './actionTypes';\r\n\r\nexport const setColorScheme = (scheme) => (\r\n    {\r\n        type: SET_COLOR_SCHEME,\r\n        payload: scheme\r\n    }\r\n);\r\n\r\nexport const setAccessToken = (accessToken) => (\r\n    {\r\n        type: SET_ACCESS_TOKEN,\r\n        payload: accessToken\r\n    }\r\n);\r\n\r\nexport const setActiveTab = (component, tab) => (\r\n    {\r\n        type: SET_ACTIVE_TAB,\r\n        payload: {\r\n            component,\r\n            tab\r\n        }\r\n    }\r\n);\r\n\r\nexport const setScrollPosition = (component, x = 0, y = 0) => (\r\n    {\r\n        type: SET_SCROLL_POSITION,\r\n        payload: {\r\n            component,\r\n            x,\r\n            y\r\n        }\r\n    }\r\n);\r\n\r\nexport const setScrollPositionByID = (component) => (\r\n    {\r\n        type: SET_SCROLL_POSITION_BY_ID,\r\n        payload: {\r\n            component\r\n        }\r\n    }\r\n);","export const SET_COLOR_SCHEME = 'SET_COLOR_SCHEME';\r\nexport const SET_ACCESS_TOKEN = 'SET_ACCESS_TOKEN';\r\nexport const SET_ACTIVE_TAB = 'SET_ACTIVE_TAB';\r\nexport const SET_SCROLL_POSITION = 'SET_SCROLL_POSITION';\r\nexport const SET_SCROLL_POSITION_BY_ID = 'SET_SCROLL_POSITION_BY_ID';","import VKConnectOld from \"@vkontakte/vk-connect\";\r\nimport VKConnect from \"@vkontakte/vkui-connect-promise\";\r\n\r\nimport {store} from \"../../index\";\r\n\r\nimport {setColorScheme, setAccessToken} from \"../store/vk/actions\";\r\n\r\nconst APP_ID = 6984089;\r\nconst API_VERSION = '5.92';\r\n\r\nexport const initApp = () => (dispatch) => {\r\n    const VKConnectOldCallback = (e) => {\r\n        if (e.detail.type === 'VKWebAppUpdateConfig') {\r\n            VKConnectOld.unsubscribe(VKConnectOldCallback);\r\n\r\n            dispatch(setColorScheme(e.detail.data.scheme));\r\n        }\r\n    };\r\n\r\n    VKConnectOld.subscribe(VKConnectOldCallback);\r\n    VKConnect.send('VKWebAppInit', {});\r\n};\r\n\r\nexport const getAuthToken = (scope) => (dispatch) => {\r\n    VKConnect.send(\"VKWebAppGetAuthToken\", {\r\n        \"app_id\": APP_ID,\r\n        \"scope\": scope.join(',')\r\n    }).then(data => {\r\n        dispatch(setAccessToken(data.data.access_token));\r\n    }).catch(() => {\r\n        dispatch(setAccessToken(null));\r\n    });\r\n};\r\n\r\nexport const closeApp = () => {\r\n    VKConnect.send(\"VKWebAppClose\", {\"status\": \"success\"});\r\n};\r\n\r\nexport const swipeBackOn = () => {\r\n    VKConnect.send(\"VKWebAppEnableSwipeBack\", {});\r\n};\r\n\r\nexport const swipeBackOff = () => {\r\n    VKConnect.send(\"VKWebAppDisableSwipeBack\", {});\r\n};\r\n\r\nexport const groupsGet = () => {\r\n    return APICall('groups.get', {\r\n        \"extended\": \"1\",\r\n        \"fields\": \"description\",\r\n        \"count\": \"100\"\r\n    });\r\n};\r\n\r\nexport const APICall = (method, params) => {\r\n    params['access_token'] = store.getState().vkui.accessToken;\r\n    params['v'] = params['v'] === undefined ? API_VERSION : params['v'];\r\n\r\n    return VKConnect.send(\"VKWebAppCallAPIMethod\", {\r\n        \"method\": method,\r\n        \"params\": params\r\n    }).then(data => {\r\n        return data.data.response;\r\n    }).catch(error => {\r\n        return error;\r\n    });\r\n};","import {store} from \"../../index\";\r\n\r\nexport const smoothScrollToTop = () => {\r\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\r\n\r\n    if (c > 30) {\r\n        return;\r\n    }\r\n\r\n    if (c > 0) {\r\n        window.requestAnimationFrame(smoothScrollToTop);\r\n        window.scrollTo(0, c - c / 8);\r\n    }\r\n};\r\n\r\nexport const restoreScrollPosition = () => {\r\n    let scrolls = store.getState().vkui.componentScroll;\r\n\r\n    Object.keys(scrolls).forEach((component) => {\r\n        let componentData = scrolls[component];\r\n\r\n        let element = document.getElementById(component);\r\n\r\n        if (element) {\r\n            element = element.getElementsByClassName(\"HorizontalScroll__in\")[0];\r\n\r\n            element.scrollLeft = componentData.x;\r\n            element.scrollTop = componentData.y;\r\n        }\r\n    });\r\n};","import {\r\n    SET_PAGE,\r\n    GO_BACK,\r\n    OPEN_POPOUT,\r\n    CLOSE_POPOUT,\r\n    OPEN_MODAL,\r\n    CLOSE_MODAL,\r\n    SET_STORY\r\n} from './actionTypes';\r\n\r\nimport * as VK from \"../../services/VK\";\r\nimport {smoothScrollToTop} from \"../../services/_functions\";\r\n\r\nconst initialState = {\r\n    activeStory: null,\r\n    activeView: null,\r\n    activePanel: null,\r\n\r\n    storiesHistory: [],\r\n    viewsHistory: [],\r\n    panelsHistory: [],\r\n\r\n    activeModals: [],\r\n    modalHistory: [],\r\n    popouts: [],\r\n\r\n    scrollPosition: []\r\n};\r\n\r\nexport const routerReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_PAGE: {\r\n            let View = action.payload.view;\r\n            let Panel = action.payload.panel;\r\n\r\n            window.history.pushState(null, null);\r\n\r\n            let panelsHistory = state.panelsHistory[View] || [];\r\n            let viewsHistory = state.viewsHistory[state.activeStory] || [];\r\n\r\n            const viewIndexInHistory = viewsHistory.indexOf(View);\r\n\r\n            if (viewIndexInHistory !== -1) {\r\n                viewsHistory.splice(viewIndexInHistory, 1);\r\n            }\r\n\r\n            if (panelsHistory.indexOf(Panel) === -1) {\r\n                panelsHistory = [...panelsHistory, Panel];\r\n            }\r\n\r\n            if (panelsHistory.length > 1) {\r\n                VK.swipeBackOn();\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeView: View,\r\n                activePanel: Panel,\r\n\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [View]: panelsHistory,\r\n                },\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [state.activeStory]: [...viewsHistory, View]\r\n                },\r\n                scrollPosition: {\r\n                    ...state.scrollPosition,\r\n                    [state.activeStory + \"_\" + state.activeView + \"_\" + state.activePanel]: window.pageYOffset\r\n                }\r\n            };\r\n        }\r\n\r\n        case SET_STORY: {\r\n            window.history.pushState(null, null);\r\n\r\n            let viewsHistory = state.viewsHistory[action.payload.story] || [action.payload.story];\r\n\r\n            let storiesHistory = state.storiesHistory;\r\n            let activeView = viewsHistory[viewsHistory.length - 1];\r\n            let panelsHistory = state.panelsHistory[activeView] || [action.payload.initial_panel];\r\n            let activePanel = panelsHistory[panelsHistory.length - 1];\r\n\r\n            if (action.payload.story === state.activeStory) {\r\n                if (panelsHistory.length > 1) {\r\n                    let firstPanel = panelsHistory.shift();\r\n                    panelsHistory = [firstPanel];\r\n\r\n                    activePanel = panelsHistory[panelsHistory.length - 1];\r\n                } else if (viewsHistory.length > 1) {\r\n                    let firstView = viewsHistory.shift();\r\n                    viewsHistory = [firstView];\r\n\r\n                    activeView = viewsHistory[viewsHistory.length - 1];\r\n                    panelsHistory = state.panelsHistory[activeView];\r\n                    activePanel = panelsHistory[panelsHistory.length - 1];\r\n                }\r\n            }\r\n\r\n            if (action.payload.story === state.activeStory && panelsHistory.length === 1 && window.pageYOffset > 0) {\r\n                window.scrollTo(0, 30);\r\n\r\n                smoothScrollToTop();\r\n            }\r\n\r\n            const storiesIndexInHistory = storiesHistory.indexOf(action.payload.story);\r\n\r\n            if (storiesIndexInHistory === -1 || (storiesHistory[0] === action.payload.story && storiesHistory[storiesHistory.length - 1] !== action.payload.story)) {\r\n                storiesHistory = [...storiesHistory, action.payload.story];\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeStory: action.payload.story,\r\n                activeView: activeView,\r\n                activePanel: activePanel,\r\n\r\n                storiesHistory: storiesHistory,\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [activeView]: viewsHistory\r\n                },\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [activeView]: panelsHistory\r\n                },\r\n\r\n                scrollPosition: {\r\n                    ...state.scrollPosition,\r\n                    [state.activeStory + \"_\" + state.activeView + \"_\" + state.activePanel]: window.pageYOffset\r\n                }\r\n            };\r\n        }\r\n\r\n        case GO_BACK: {\r\n            let setView = state.activeView;\r\n            let setPanel = state.activePanel;\r\n            let setStory = state.activeStory;\r\n\r\n            let popoutsData = state.popouts;\r\n\r\n            if (popoutsData[setView]) {\r\n                popoutsData[setView] = null;\r\n\r\n                return {\r\n                    ...state,\r\n                    popouts: {\r\n                        ...state.popouts, popoutsData\r\n                    }\r\n                };\r\n            }\r\n\r\n            let viewModalsHistory = state.modalHistory[setView];\r\n\r\n            if (viewModalsHistory !== undefined && viewModalsHistory.length !== 0) {\r\n                let activeModal = viewModalsHistory[viewModalsHistory.length - 2] || null;\r\n\r\n                if (activeModal === null) {\r\n                    viewModalsHistory = [];\r\n                } else if (viewModalsHistory.indexOf(activeModal) !== -1) {\r\n                    viewModalsHistory = viewModalsHistory.splice(0, viewModalsHistory.indexOf(activeModal) + 1);\r\n                } else {\r\n                    viewModalsHistory.push(activeModal);\r\n                }\r\n\r\n                return {\r\n                    ...state,\r\n                    activeModals: {\r\n                        ...state.activeModals,\r\n                        [setView]: activeModal\r\n                    },\r\n                    modalHistory: {\r\n                        ...state.modalHistory,\r\n                        [setView]: viewModalsHistory\r\n                    }\r\n                };\r\n            }\r\n\r\n            let panelsHistory = state.panelsHistory[setView] || [];\r\n            let viewsHistory = state.viewsHistory[state.activeStory] || [];\r\n            let storiesHistory = state.storiesHistory;\r\n\r\n            if (panelsHistory.length > 1) {\r\n                panelsHistory.pop();\r\n\r\n                setPanel = panelsHistory[panelsHistory.length - 1];\r\n            } else if (viewsHistory.length > 1) {\r\n                viewsHistory.pop();\r\n\r\n                setView = viewsHistory[viewsHistory.length - 1];\r\n                let panelsHistoryNew = state.panelsHistory[setView];\r\n\r\n                setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\r\n            } else if (storiesHistory.length > 1 && action.payload.from === 'Android') {\r\n                storiesHistory.pop();\r\n\r\n                setStory = storiesHistory[storiesHistory.length - 1];\r\n                setView = state.viewsHistory[setStory][state.viewsHistory[setStory].length - 1];\r\n\r\n                let panelsHistoryNew = state.panelsHistory[setView];\r\n\r\n                if (panelsHistoryNew.length > 1) {\r\n                    setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\r\n                } else {\r\n                    setPanel = panelsHistoryNew[0];\r\n                }\r\n            } else {\r\n                VK.closeApp();\r\n            }\r\n\r\n            if (panelsHistory.length === 1 && action.payload.from === 'iOS') {\r\n                VK.swipeBackOff();\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeView: setView,\r\n                activePanel: setPanel,\r\n                activeStory: setStory,\r\n\r\n                viewsHistory: {\r\n                    ...state.viewsHistory,\r\n                    [state.activeView]: viewsHistory\r\n                },\r\n                panelsHistory: {\r\n                    ...state.panelsHistory,\r\n                    [state.activeView]: panelsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        case OPEN_POPOUT: {\r\n            window.history.pushState(null, null);\r\n\r\n            return {\r\n                ...state,\r\n                popouts: {\r\n                    ...state.popouts,\r\n                    [state.activeView]: action.payload.popout\r\n                }\r\n            };\r\n        }\r\n\r\n        case CLOSE_POPOUT: {\r\n            return {\r\n                ...state,\r\n                popouts: {\r\n                    ...state.popouts,\r\n                    [state.activeView]: null\r\n                }\r\n            };\r\n        }\r\n\r\n        case OPEN_MODAL: {\r\n            window.history.pushState(null, null);\r\n\r\n            let activeModal = action.payload.id || null;\r\n            let modalsHistory = state.modalHistory[state.activeView] ? [...state.modalHistory[state.activeView]] : [];\r\n\r\n            if (activeModal === null) {\r\n                modalsHistory = [];\r\n            } else if (modalsHistory.indexOf(activeModal) !== -1) {\r\n                modalsHistory = modalsHistory.splice(0, modalsHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n                modalsHistory.push(activeModal);\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeModals: {\r\n                    ...state.activeModals,\r\n                    [state.activeView]: activeModal\r\n                },\r\n                modalHistory: {\r\n                    ...state.modalHistory,\r\n                    [state.activeView]: modalsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        case CLOSE_MODAL: {\r\n            let activeModal = state.modalHistory[state.activeView][state.modalHistory[state.activeView].length - 2] || null;\r\n            let modalsHistory = state.modalHistory[state.activeView] ? [...state.modalHistory[state.activeView]] : [];\r\n\r\n            if (activeModal === null) {\r\n                modalsHistory = [];\r\n            } else if (modalsHistory.indexOf(activeModal) !== -1) {\r\n                modalsHistory = modalsHistory.splice(0, modalsHistory.indexOf(activeModal) + 1);\r\n            } else {\r\n                modalsHistory.push(activeModal);\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                activeModals: {\r\n                    ...state.activeModals,\r\n                    [state.activeView]: activeModal\r\n                },\r\n                modalHistory: {\r\n                    ...state.modalHistory,\r\n                    [state.activeView]: modalsHistory\r\n                }\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};","import {\r\n    SET_ACCESS_TOKEN,\r\n    SET_ACTIVE_TAB,\r\n    SET_COLOR_SCHEME,\r\n    SET_SCROLL_POSITION,\r\n    SET_SCROLL_POSITION_BY_ID\r\n} from './actionTypes';\r\n\r\nconst initialState = {\r\n    accessToken: undefined,\r\n    colorScheme: 'client_light',\r\n\r\n    activeTab: [],\r\n    componentScroll: []\r\n};\r\n\r\nexport const vkuiReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_COLOR_SCHEME: {\r\n            return {\r\n                ...state,\r\n                colorScheme: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_ACCESS_TOKEN: {\r\n            return {\r\n                ...state,\r\n                accessToken: action.payload,\r\n            };\r\n        }\r\n\r\n        case SET_ACTIVE_TAB: {\r\n            return {\r\n                ...state,\r\n                activeTab: {\r\n                    ...state.activeTab,\r\n                    [action.payload.component]: action.payload.tab\r\n                },\r\n            };\r\n        }\r\n\r\n        case SET_SCROLL_POSITION: {\r\n            return {\r\n                ...state,\r\n                componentScroll: {\r\n                    ...state.componentScroll,\r\n                    [action.payload.component]: {\r\n                        x: action.payload.x,\r\n                        y: action.payload.y\r\n                    }\r\n                },\r\n            };\r\n        }\r\n\r\n        case SET_SCROLL_POSITION_BY_ID: {\r\n            let element = document.getElementById(action.payload.component).getElementsByClassName(\"HorizontalScroll__in\")[0];\r\n\r\n            let x = element.scrollLeft;\r\n            let y = element.scrollTop;\r\n\r\n            return {\r\n                ...state,\r\n                componentScroll: {\r\n                    ...state.componentScroll,\r\n                    [action.payload.component]: {\r\n                        x: x,\r\n                        y: y\r\n                    }\r\n                },\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n    }\r\n};","import {SET_FORM_DATA} from './actionTypes';\r\n\r\nconst initialState = {\r\n    forms: []\r\n};\r\n\r\nexport const formDataReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_FORM_DATA: {\r\n            return {\r\n                ...state,\r\n                forms: {\r\n                    ...state.forms,\r\n                    [action.payload.form]: action.payload.data\r\n                }\r\n            };\r\n        }\r\n\r\n        default: {\r\n            return state;\r\n        }\r\n\r\n    }\r\n\r\n};","import {combineReducers} from \"redux\";\r\nimport {routerReducer} from './router/reducers';\r\nimport {vkuiReducer} from './vk/reducers';\r\nimport {formDataReducer} from \"./formData/reducers\";\r\n\r\nexport default combineReducers({\r\n    vkui: vkuiReducer,\r\n    router: routerReducer,\r\n    formData: formDataReducer\r\n});","export const SET_PAGE = 'SET_PAGE';\r\nexport const SET_STORY = 'SET_STORY';\r\nexport const GO_BACK = 'GO_BACK';\r\nexport const OPEN_POPOUT = 'OPEN_POPOUT';\r\nexport const CLOSE_POPOUT = 'CLOSE_POPOUT';\r\nexport const OPEN_MODAL = 'OPEN_MODAL';\r\nexport const CLOSE_MODAL = 'CLOSE_MODAL';","export const SET_FORM_DATA = 'SAVE_FORM_DATA';","import {SET_PAGE, SET_STORY, GO_BACK, OPEN_POPOUT, CLOSE_POPOUT, OPEN_MODAL, CLOSE_MODAL} from './actionTypes';\r\n\r\nexport const setStory = (story, initial_panel) => (\r\n    {\r\n        type: SET_STORY,\r\n        payload: {\r\n            story: story,\r\n            initial_panel: initial_panel,\r\n        }\r\n    }\r\n);\r\n\r\nexport const setPage = (view, panel) => (\r\n    {\r\n        type: SET_PAGE,\r\n        payload: {\r\n            view: view,\r\n            panel: panel\r\n        }\r\n    }\r\n);\r\n\r\nexport const goBack = (from = 'iOS') => (\r\n    {\r\n        type: GO_BACK,\r\n        payload: {\r\n            from: from\r\n        }\r\n    }\r\n);\r\n\r\nexport const openPopout = (popout) => (\r\n    {\r\n        type: OPEN_POPOUT,\r\n        payload: {\r\n            popout: popout\r\n        }\r\n    }\r\n);\r\n\r\nexport const closePopout = () => (\r\n    {\r\n        type: CLOSE_POPOUT\r\n    }\r\n);\r\n\r\nexport const openModal = (id) => (\r\n    {\r\n        type: OPEN_MODAL,\r\n        payload: {\r\n            id\r\n        }\r\n    }\r\n);\r\n\r\nexport const closeModal = () => (\r\n    {\r\n        type: CLOSE_MODAL\r\n    }\r\n);","import React from 'react';\r\n\r\nimport connect from '@vkontakte/vk-connect';\r\n\r\n\r\nimport {Panel, Alert, Group, PanelHeader, Cell, Avatar, Button, List, Gallery} from \"@vkontakte/vkui\"\r\nimport Icon24Money from '@vkontakte/icons/dist/24/money_circle';\r\nimport Icon24UserOut from '@vkontakte/icons/dist/24/user_outgoing';\r\n\r\n\r\nclass HomePanelBase extends React.Component {\r\n\r\n\r\n    state = {\r\n        groups: {\r\n            admined: [],\r\n            other: [],\r\n        },\r\n        loading: true,\r\n        errorGetAuthToken: false,\r\n        showImg: false,\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        ava: \"\",\r\n        _id:\"5d8fdaf14827a83f988d5e00\",\r\n        statusOld:\"1\",\r\n        statusNew:\"0\",\r\n        maxCount:\"\",\r\n        result:\"\"\r\n    };\r\n\r\n    showImg = () => {\r\n        this.setState({showImg: true});\r\n    };\r\n\r\n\r\n    route(){\r\n      this.setState({activePanel: 'home'})\r\n    }\r\n\r\n    //async serverGet(){\r\n      //let result = await fetch(`https://demo146.bravo.vkhackathon.com/api/v1/challangeContainer/getAllChallenges/update/`+this.state._id+`/`+this.state.statusNew, {\r\n\r\n      //this.forceUpdate();\r\n//}\r\n    async componentDidMount() {\r\n      const profile = await connect.sendPromise(\"VKWebAppGetUserInfo\");\r\n\r\n      this.state.firstName = profile.first_name;\r\n      this.state.lastName = profile.last_name;\r\n      this.state.ava = profile.photo_200;\r\n      let result = await fetch(`https://demo146.bravo.vkhackathon.com/api/v1/challangeContainer/getAllChallenges/inactive`, {\r\n      method: \"GET\",\r\n      // body: JSON.stringify(''),\r\n    })\r\n      result=await result.json();\r\n      console.log(result);\r\n      this.state.maxCount = result.challenge.length;\r\n      this.state.result = result.challenge;\r\n      console.log(this.state.result[0]);\r\n\r\n      this.forceUpdate();\r\n\r\n\r\n\r\n    }\r\n    render() {\r\n        const {setStory, activeStory} = this.props;\r\n        const {id} = this.props;\r\n        const items = [];\r\n        for(let i = 0;i < this.state.maxCount;i++)\r\n        items.push(<Group key={i}>\r\n          <Gallery\r\n            slideWidth=\"90%\"\r\n            align=\"center\"\r\n            style={{ height: 150 }}\r\n            className=\"galleryElement\"\r\n          >\r\n            <div>\r\n              <p className=\"name\">{this.state.result[i].name}</p>\r\n              <p className=\"description\">{this.state.result[i].body}</p>\r\n              <Button level=\"secondary\" before={<Icon24UserOut/>}>Отправить</Button>\r\n            </div>\r\n          </Gallery>\r\n        </Group>);\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader>Активные задачи</PanelHeader>\r\n                <Group>\r\n                  <Cell\r\n                    photo=\"https://pp.userapi.com/c841034/v841034569/3b8c1/pt3sOw_qhfg.jpg\"\r\n                    description=\"VKontakte\"\r\n\r\n                    before={<Avatar src={this.state.ava} size={80}/>}\r\n                    size=\"l\"\r\n                  >\r\n                    {this.state.firstName} {this.state.lastName}\r\n                  </Cell>\r\n                </Group>\r\n                {items}\r\n            </Panel>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport default HomePanelBase;\r\n","import React, {PureComponent} from 'react';\r\n\r\nimport {Cell, Avatar} from \"@vkontakte/vkui\";\r\n\r\nclass GroupCell extends PureComponent {\r\n\r\n    render() {\r\n        const {description, photo, name} = this.props;\r\n\r\n        let desc = description.length > 0 ? description : \"Описание отсутствует\";\r\n\r\n        return (\r\n            <Cell\r\n                description={desc}\r\n                before={<Avatar size={40} src={photo}/>}\r\n            >\r\n                {name}\r\n            </Cell>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default GroupCell;","import React from 'react';\r\nimport GroupCell from '../components/GroupCell';\r\n\r\nexport const renderGroupsList = (items) => {\r\n    let groups = null;\r\n    if (items !== undefined && items !== null && items.length !== 0) {\r\n        groups = items.map((group) => (\r\n            <GroupCell\r\n                key={group.id}\r\n                description={group.description}\r\n                photo={group.photo_100}\r\n                name={group.name}/>\r\n        ));\r\n    }\r\n    return groups;\r\n};","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from \"redux\";\r\n\r\nimport {goBack, openPopout, closePopout, openModal} from \"../../store/router/actions\";\r\nimport * as VK from '../../services/VK';\r\n\r\nimport {renderGroupsList} from '../../services/renderers';\r\n\r\nimport {Div, List, Panel, Group, Button, PanelHeader, PanelSpinner, PanelHeaderBack} from \"@vkontakte/vkui\";\r\n\r\nclass HomePanelGroups extends React.Component {\r\n\r\n    state = {\r\n        groups: {\r\n            admined: [],\r\n            other: [],\r\n        },\r\n        loading: true,\r\n        errorGetAuthToken: false\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (this.props.accessToken === undefined) {\r\n            this.getAuthToken();\r\n        } else {\r\n            this.getGroupsList();\r\n        }\r\n    }\r\n\r\n    getAuthToken() {\r\n        this.props.dispatch(VK.getAuthToken(['groups']));\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props !== prevProps) {\r\n            if (this.props.accessToken === null) {\r\n                this.setState({\r\n                    loading: false,\r\n                    errorGetAuthToken: true\r\n                });\r\n            } else {\r\n                this.setState({\r\n                    loading: true,\r\n                    errorGetAuthToken: false\r\n                });\r\n\r\n                this.getGroupsList();\r\n            }\r\n        }\r\n    }\r\n\r\n    async getGroupsList() {\r\n        if (localStorage.getItem('userGroupsAdmined') && localStorage.getItem('userGroupsOther')) {\r\n            this.setState({\r\n                groups: {\r\n                    admined: JSON.parse(localStorage.getItem('userGroupsAdmined')),\r\n                    other: JSON.parse(localStorage.getItem('userGroupsOther')),\r\n                },\r\n                loading: false\r\n            });\r\n\r\n            return;\r\n        }\r\n\r\n        let groups = await VK.groupsGet();\r\n\r\n        let adminedGroups = groups.items.filter(function (item) {\r\n            return item.is_admin === 1;\r\n        });\r\n\r\n        let otherGroups = groups.items.filter(function (item) {\r\n            return item.is_admin === 0;\r\n        });\r\n\r\n        localStorage.setItem('userGroupsAdmined', JSON.stringify(adminedGroups));\r\n        localStorage.setItem('userGroupsOther', JSON.stringify(otherGroups));\r\n\r\n        this.setState({\r\n            groups: {\r\n                admined: adminedGroups,\r\n                other: otherGroups\r\n            },\r\n            loading: false\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const {id, goBack} = this.props;\r\n\r\n        let adminedGroupsList = renderGroupsList(this.state.groups.admined);\r\n        let otherGroupsList = renderGroupsList(this.state.groups.other);\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={() => goBack()}/>}\r\n                >\r\n                    Группы\r\n                </PanelHeader>\r\n                {this.state.loading && <PanelSpinner/>}\r\n                {!this.state.loading && this.state.errorGetAuthToken && <Group>\r\n                    <Div>Возникла ошибка при получении данных, возможно Вы не выдали права на список групп.</Div>\r\n                    <Div>\r\n                        <Button size=\"l\" stretched={true} onClick={() => this.getAuthToken()}>Запросить\r\n                            повторно</Button>\r\n                    </Div>\r\n                </Group>}\r\n                {!this.state.loading && !this.state.errorGetAuthToken && adminedGroupsList &&\r\n                <Group title=\"Администрируемые\">\r\n                    <List>\r\n                        {adminedGroupsList}\r\n                    </List>\r\n                </Group>}\r\n                {!this.state.loading && !this.state.errorGetAuthToken && otherGroupsList &&\r\n                <Group title=\"Остальные\">\r\n                    <List>\r\n                        {otherGroupsList}\r\n                    </List>\r\n                </Group>}\r\n            </Panel>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch,\r\n        ...bindActionCreators({goBack, openPopout, closePopout, openModal}, dispatch)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        accessToken: state.vkui.accessToken\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelGroups);","import React from 'react';\r\nimport Popup from \"reactjs-popup\";\r\nimport connect from '@vkontakte/vk-connect';\r\n\r\nimport {setPage} from \"../../store/router/actions\";\r\nimport {setActiveTab, setScrollPositionByID} from \"../../store/vk/actions\";\r\nimport {restoreScrollPosition} from \"../../services/_functions\";\r\n\r\nimport Icon24Money from '@vkontakte/icons/dist/24/money_circle';\r\nimport Icon24UserOut from '@vkontakte/icons/dist/24/user_outgoing';\r\nimport {\r\n    Div,\r\n    Panel,\r\n    Group,\r\n    CellButton,\r\n    PanelHeader,\r\n    FixedLayout,\r\n    HorizontalScroll,\r\n    TabsItem,\r\n    Tabs,\r\n    Gallery,\r\n    Button\r\n} from \"@vkontakte/vkui\";\r\n\r\nclass HomePanelProfile extends React.Component {\r\n    state = {\r\n      result:\"\",\r\n      maxCount:\"\",\r\n      _id:\"\",\r\n      idLink:\"\"\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n\r\n        };\r\n    }\r\n\r\n    setTab(tab) {\r\n        this.setState({\r\n            activeTab: tab\r\n        });\r\n    }\r\n\r\n    getdetails(obj) {\r\n        this.state.idLink = obj.id;\r\n        console.log(this.state.idLink);\r\n    }\r\n\r\n    async sendPay() {\r\n\r\n      const pays = await connect.send(\"VKWebAppOpenPayForm\", {\"app_id\": 7150912, \"action\": \"transfer-to-group\", \"params\": { \"group_id\": 187017371}});\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        restoreScrollPosition();\r\n\r\n          let result = await fetch('https://demo146.bravo.vkhackathon.com/api/v1/challangeContainer/getAllChallenges/active', {\r\n          method: \"GET\",\r\n          // body: JSON.stringify(''),\r\n        })\r\n        result=await result.json();\r\n\r\n        this.state.maxCount = result.challenge.length;\r\n        this.state.result = result.challenge;\r\n\r\n        console.log(this.state.result[1]);\r\n        console.log(this.state.maxCount);\r\n        this.forceUpdate();\r\n    }\r\n    async serverPush(e) {\r\n        restoreScrollPosition();\r\n\r\n          let result = await fetch(`https://demo146.bravo.vkhackathon.com/api/v1/challangeContainer/getAllChallenges/update/`+e+`/0`, {\r\n          method: \"GET\",\r\n          // body: JSON.stringify(''),\r\n        })\r\n        result=await result.json();\r\n\r\n        this.state.maxCount = result.challenge.length;\r\n        this.state.result = result.challenge;\r\n\r\n        console.log(this.state.result[1]);\r\n        console.log(this.state.maxCount);\r\n        this.forceUpdate();\r\n        document.location.reload(true);\r\n    }\r\n\r\n\r\n    render() {\r\n        const {id, setPage} = this.props;\r\n        const boxStyle = {marginTop: 56};\r\n\r\n        const items = [];\r\n\r\n        for(let i = 0;i < this.state.maxCount;i++)\r\n\r\n        items.push(<Group key={i}>\r\n          <Gallery\r\n\r\n            slideWidth=\"90%\"\r\n            align=\"center\"\r\n            style={{ height: 150 }}\r\n            className=\"galleryElement\"\r\n          >\r\n            <div>\r\n              <p className=\"name\">{this.state.result[i].name}</p>\r\n              <p className=\"description\">{this.state.result[i].body}</p>\r\n              <Button level=\"secondary\" before={<Icon24UserOut/>}>Отправить</Button>\r\n              <Button  id={this.state.result[i]._id} level=\"commerce\" className=\"challengeButton\" before={<Icon24Money/>} onClick={e => this.sendPay()&&this.serverPush(this.state.result[i]._id)}>Начать</Button>\r\n\r\n            </div>\r\n          </Gallery>\r\n        </Group>);\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader noShadow={true}>Задания</PanelHeader>\r\n                <FixedLayout vertical=\"top\" className=\"headerMenu\">\r\n                    <Tabs theme=\"header\" type=\"buttons\">\r\n                        <HorizontalScroll id=\"EXAMPLE_TABS_LIST\">\r\n                            <TabsItem\r\n                                onClick={() => this.setTab('modal')}\r\n                                selected={this.state.activeTab === 'modal'}\r\n                            >\r\n                                Все\r\n                            </TabsItem>\r\n                            <TabsItem\r\n                                onClick={() => this.setTab('test')}\r\n                                selected={this.state.activeTab === 'test'}\r\n                            >\r\n                                Спорт\r\n                            </TabsItem>\r\n                            <TabsItem\r\n                                onClick={() => this.setTab('test2')}\r\n                                selected={this.state.activeTab === 'test2'}\r\n                            >\r\n                                Еда\r\n                            </TabsItem>\r\n                            <TabsItem\r\n                                onClick={() => this.setTab('test3')}\r\n                                selected={this.state.activeTab === 'test3'}\r\n                            >\r\n                                Самочувствие\r\n                            </TabsItem>\r\n                        </HorizontalScroll>\r\n                    </Tabs>\r\n                </FixedLayout>\r\n                {items}\r\n            </Panel>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        activeTab: state.vkui.activeTab,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    setPage,\r\n    setActiveTab,\r\n    setScrollPositionByID\r\n};\r\n\r\nexport default HomePanelProfile;\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {goBack} from '../../store/router/actions';\r\nimport {setFormData} from \"../../store/formData/actions\";\r\n\r\nimport {\r\n    Div,\r\n    Button,\r\n    Checkbox,\r\n    Input,\r\n    FormLayout,\r\n    FormLayoutGroup,\r\n    Panel,\r\n    Group,\r\n    PanelHeader,\r\n    PanelHeaderBack\r\n} from \"@vkontakte/vkui\";\r\n\r\nclass HomePanelProfile extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let defaultInputData = {\r\n            workplace: '',\r\n            workposition: '',\r\n\r\n            checkboxPhoto: 0,\r\n            checkboxOnline: 0\r\n        };\r\n\r\n        this.state = {\r\n            inputData: props.inputData['example_form'] || defaultInputData\r\n        };\r\n\r\n        this.handleInput = (e) => {\r\n            let value = e.currentTarget.value;\r\n\r\n            if (e.currentTarget.type === 'checkbox') {\r\n                value = e.currentTarget.checked;\r\n            }\r\n\r\n            this.setState({\r\n                inputData: {\r\n                    ...this.state.inputData,\r\n                    [e.currentTarget.name]: value\r\n                }\r\n            })\r\n        };\r\n\r\n        this.clearForm = () => {\r\n            this.setState({\r\n                inputData: defaultInputData\r\n            });\r\n        };\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.setFormData('example_form', this.state.inputData);\r\n    }\r\n\r\n    render() {\r\n        const {id, goBack} = this.props;\r\n\r\n        return (\r\n            <Panel id={id}>\r\n                <PanelHeader\r\n                    left={<PanelHeaderBack onClick={() => goBack()}/>}\r\n                >\r\n                    Модальное окно\r\n                </PanelHeader>\r\n                <Group>\r\n                    <FormLayout>\r\n                        <FormLayoutGroup top=\"Работа\">\r\n                            <Input value={this.state.inputData.workplace}\r\n                                   onChange={this.handleInput}\r\n                                   name=\"workplace\"\r\n                                   placeholder=\"Место работы\"\r\n                                   autoComplete=\"off\"/>\r\n                            <Input value={this.state.inputData.workposition}\r\n                                   onChange={this.handleInput}\r\n                                   name=\"workposition\"\r\n                                   placeholder=\"Должность\"\r\n                                   autoComplete=\"off\"/>\r\n                        </FormLayoutGroup>\r\n                        <FormLayoutGroup top=\"Дополнительно\">\r\n                            <Checkbox checked={this.state.inputData.checkboxPhoto}\r\n                                      onChange={this.handleInput}\r\n                                      name=\"checkboxPhoto\"\r\n                            >С фотографией</Checkbox>\r\n                            <Checkbox checked={this.state.inputData.checkboxOnline}\r\n                                      onChange={this.handleInput}\r\n                                      name=\"checkboxOnline\"\r\n                            >Сейчас на сайте</Checkbox>\r\n                        </FormLayoutGroup>\r\n                    </FormLayout>\r\n                    <Div className=\"buttons-group\">\r\n                        <Button size=\"l\" stretched={true} onClick={() => goBack()}>Сохранить</Button>\r\n                        <Button size=\"l\" stretched={true} onClick={this.clearForm}>Очистить</Button>\r\n                    </Div>\r\n                </Group>\r\n            </Panel>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        inputData: state.formData.forms,\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    setFormData,\r\n    goBack\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(HomePanelProfile);","import {SET_FORM_DATA} from './actionTypes';\r\n\r\nexport const setFormData = (formName, inputData) => (\r\n    {\r\n        type: SET_FORM_DATA,\r\n        payload: {\r\n            form: formName,\r\n            data: inputData,\r\n        }\r\n    }\r\n);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {openModal} from \"../../store/router/actions\";\r\n\r\nimport {List, Cell, Avatar, ModalPage, ModalPageHeader, HeaderButton, IS_PLATFORM_IOS} from \"@vkontakte/vkui\";\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\nimport Icon24Chevron from '@vkontakte/icons/dist/24/chevron';\r\n\r\nconst bots = [\r\n    {\r\n        name: 'VKS',\r\n        avatar: 'https://pp.userapi.com/c851520/v851520442/48ce/Sik7V4c58qw.jpg',\r\n        desc: 'Нет, меня не роняли в детстве'\r\n    },\r\n    {\r\n        name: 'Недобот',\r\n        avatar: 'https://pp.userapi.com/c854420/v854420431/da51/X8ohw4-4Fk4.jpg',\r\n        desc: 'Я ни разу не пил кокосовое молоко'\r\n    },\r\n    {\r\n        name: 'Callback API Бот',\r\n        avatar: 'https://pp.userapi.com/c846523/v846523036/1e69b7/UxWZ1yAqY7I.jpg',\r\n        desc: 'Даже не спрашивай'\r\n    },\r\n];\r\n\r\nclass HomeBotsListModal extends React.Component {\r\n\r\n    render() {\r\n        const {id, onClose, openModal} = this.props;\r\n\r\n        return (\r\n            <ModalPage\r\n                id={id}\r\n                header={\r\n                    <ModalPageHeader\r\n                        left={!IS_PLATFORM_IOS &&\r\n                        <HeaderButton onClick={onClose}><Icon24Cancel/></HeaderButton>}\r\n                        right={IS_PLATFORM_IOS &&\r\n                        <HeaderButton onClick={onClose}><Icon24Dismiss/></HeaderButton>}\r\n                    >\r\n                        /appbots на минималках\r\n                    </ModalPageHeader>\r\n                }\r\n                onClose={onClose}\r\n                settlingHeight={80}\r\n            >\r\n                <List>\r\n                    {bots.map((bot, index) => (\r\n                        <Cell\r\n                            key={index}\r\n                            description={bot.desc}\r\n                            before={<Avatar size={40} src={bot.avatar}/>}\r\n                            onClick={() => openModal('MODAL_PAGE_BOT_INFO')}\r\n                            asideContent={<Icon24Chevron fill=\"#528bcc\"/>}\r\n                        >\r\n                            {bot.name}\r\n                        </Cell>\r\n                    ))}\r\n                </List>\r\n            </ModalPage>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    openModal\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(HomeBotsListModal);","import React from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport {Cell, List, Avatar, InfoRow, ModalPage, ModalPageHeader, HeaderButton, IS_PLATFORM_IOS} from \"@vkontakte/vkui\";\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\n\r\nclass HomeBotsListModal extends React.Component {\r\n\r\n    render() {\r\n        const {id, onClose} = this.props;\r\n\r\n        return (\r\n            <ModalPage\r\n                id={id}\r\n                header={\r\n                    <ModalPageHeader\r\n                        left={!IS_PLATFORM_IOS &&\r\n                        <HeaderButton onClick={onClose}><Icon24Cancel/></HeaderButton>}\r\n                        right={IS_PLATFORM_IOS &&\r\n                        <HeaderButton onClick={onClose}><Icon24Dismiss/></HeaderButton>}\r\n                    >\r\n                        Информация о боте\r\n                    </ModalPageHeader>\r\n                }\r\n                onClose={onClose}\r\n                settlingHeight={80}\r\n            >\r\n                <Cell\r\n                    description=\"Описание\"\r\n                    before={<Avatar size={40} src=\"https://vk.com/images/community_100.png?ava=1\"/>}\r\n                >\r\n                    Название\r\n                </Cell>\r\n                <List>\r\n                    <Cell>\r\n                        <InfoRow title=\"Подписчиков\">\r\n                            8800\r\n                        </InfoRow>\r\n                    </Cell>\r\n                    <Cell>\r\n                        <InfoRow title=\"Записей\">\r\n                            555\r\n                        </InfoRow>\r\n                    </Cell>\r\n                    <Cell>\r\n                        <InfoRow title=\"Рейтинг\">\r\n                            3535\r\n                        </InfoRow>\r\n                    </Cell>\r\n                </List>\r\n            </ModalPage>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default connect()(HomeBotsListModal);","import React from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport Icon24Gift from '@vkontakte/icons/dist/24/gift';\r\nimport Icon24VkLogo from '@vkontakte/icons/dist/24/logo_vk';\r\nimport Icon24Money from '@vkontakte/icons/dist/24/money_circle';\r\n\r\nimport {closePopout, goBack, openModal, openPopout, setPage} from '../../store/router/actions';\r\n\r\n\r\nimport {Panel, Alert, Group, PanelHeader, Gallery, Div, Button} from \"@vkontakte/vkui\"\r\n\r\n\r\nclass Market extends React.Component {\r\n\r\n    state = {\r\n        showImg: false\r\n    };\r\n\r\n    showImg = () => {\r\n        this.setState({showImg: true});\r\n    };\r\n    buyItem(el) {\r\n      console.log(el.id);\r\n    }\r\n    async sendPay() {\r\n      console.log(\"dfvdfv\");\r\n      const pays = await connect.send(\"VKWebAppOpenPayForm\", {\"app_id\": 7150912, \"action\": \"transfer-to-group\", \"params\": { \"group_id\": 187017371}});\r\n\r\n    }\r\n\r\n    async serverGet(){\r\n      const result = await fetch('https://demo146.bravo.vkhackathon.com/api/v1/challangeContainer/getSportChallenges', {\r\n      method: \"GET\",\r\n      // body: JSON.stringify(''),\r\n    }).then(res => res.json())\r\n    .then(json => console.log(json));\r\n    }\r\n    openPopout() {\r\n        this.props.openPopout(\r\n            <Alert\r\n                actions={[{\r\n                    title: 'Нет',\r\n                    autoclose: true,\r\n                    style: 'cancel',\r\n                }, {\r\n                    title: 'Да',\r\n                    autoclose: true,\r\n                    action: this.showImg\r\n                }]}\r\n                onClose={() => this.props.closePopout()}\r\n            >\r\n                <h2>Вопрос значит</h2>\r\n                <p>Вас роняли в детстве?</p>\r\n            </Alert>\r\n        );\r\n    }\r\n\r\n    render () {\r\n        const {id} = this.props;\r\n          return (\r\n              <Panel id={id}>\r\n                <PanelHeader>Магазин</PanelHeader>\r\n                <Div  align=\"center\">\r\n                  <Button before={<Icon24VkLogo/>} className=\"storeButton1\" onClick={e => this.sendPay()}>VK PAY</Button>\r\n                  <Button before={<Icon24Gift/>} onClick={e => this.serverGet()} className=\"storeButton1\">Бонусы</Button>\r\n                  <Button before={<Icon24Money/>} onClick={e => this.serverGet()} id=\"storeButton2\" level=\"outline\">10.00</Button>\r\n                </Div>\r\n                <Group >\r\n                  <Gallery\r\n                    slideWidth=\"90%\"\r\n                    align=\"center\"\r\n                    style={{ height: 150 }}\r\n                  >\r\n                    <div className=\"divImage\" />\r\n                  </Gallery>\r\n                </Group>\r\n                <Group>\r\n                  <Gallery\r\n                    slideWidth=\"90%\"\r\n                    align=\"center\"\r\n                    style={{ height: 150 }}\r\n                  >\r\n                    <div className=\"divImage1\"/>\r\n                  </Gallery>\r\n                </Group>\r\n                <Group>\r\n                  <Gallery\r\n                    slideWidth=\"90%\"\r\n                    align=\"center\"\r\n                    style={{ height: 150 }}\r\n                  >\r\n                    <div className=\"divImage2\"/>\r\n                  </Gallery>\r\n                </Group>\r\n                <Group>\r\n                  <Gallery\r\n                    slideWidth=\"90%\"\r\n                    align=\"center\"\r\n                    style={{ height: 150 }}\r\n                  >\r\n                    <div className=\"divImage3\"/>\r\n                  </Gallery>\r\n                </Group>\r\n                <Group>\r\n                  <Gallery\r\n                    slideWidth=\"90%\"\r\n                    align=\"center\"\r\n                    style={{ height: 150 }}\r\n                  >\r\n                    <div className=\"divImage4\"/>\r\n                  </Gallery>\r\n                </Group>\r\n                <Group>\r\n                  <Gallery\r\n                    slideWidth=\"90%\"\r\n                    align=\"center\"\r\n                    style={{ height: 150 }}\r\n                  >\r\n                    <div className=\"divImage5\"/>\r\n                  </Gallery>\r\n                </Group>\r\n                <Group>\r\n                  <Gallery\r\n                    slideWidth=\"90%\"\r\n                    align=\"center\"\r\n                    style={{ height: 150 }}\r\n                  >\r\n                    <div className=\"divImage6\"/>\r\n                  </Gallery>\r\n                </Group>\r\n                <Group>\r\n                  <Gallery\r\n                    slideWidth=\"90%\"\r\n                    align=\"center\"\r\n                    style={{ height: 150 }}\r\n                  >\r\n                    <div className=\"divImage7\"/>\r\n                  </Gallery>\r\n                </Group>\r\n              </Panel>\r\n          )\r\n        }\r\n      }\r\n\r\n\r\nconst mapDispatchToProps = {\r\n    setPage,\r\n    goBack,\r\n    openPopout,\r\n    closePopout,\r\n    openModal\r\n};\r\n\r\nexport default Market;\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {bindActionCreators} from 'redux'\r\nimport {goBack, closeModal, setStory} from \"./js/store/router/actions\";\r\nimport * as VK from './js/services/VK';\r\n\r\nimport {Epic, View, Root, Tabbar, ModalRoot, TabbarItem, ConfigProvider} from \"@vkontakte/vkui\";\r\nimport './css/test.css';\r\n\r\nimport Icon28MarketOutline from '@vkontakte/icons/dist/28/market_outline';\r\nimport Icon28User from '@vkontakte/icons/dist/28/user';\r\nimport Icon28ArticleOutline from '@vkontakte/icons/dist/28/article_outline';\r\n\r\nimport HomePanelBase from './js/panels/home/base';\r\nimport HomePanelGroups from './js/panels/home/groups';\r\n\r\nimport MorePanelBase from './js/panels/more/base';\r\nimport MorePanelExample from './js/panels/more/example';\r\n\r\nimport HomeBotsListModal from './js/components/modals/HomeBotsListModal';\r\nimport HomeBotInfoModal from './js/components/modals/HomeBotInfoModal';\r\n\r\nimport Market from './js/panels/market/store';\r\n\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.lastAndroidBackAction = 0;\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {goBack, dispatch} = this.props;\r\n\r\n        dispatch(VK.initApp());\r\n        window.onpopstate = () => {\r\n            let timeNow = +new Date();\r\n\r\n            if (timeNow - this.lastAndroidBackAction > 500) {\r\n                this.lastAndroidBackAction = timeNow;\r\n\r\n                goBack('Android');\r\n            } else {\r\n                window.history.pushState(null, null);\r\n            }\r\n        };\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        const {activeView, activeStory, activePanel, scrollPosition} = this.props;\r\n\r\n        if (\r\n            prevProps.activeView !== activeView ||\r\n            prevProps.activePanel !== activePanel ||\r\n            prevProps.activeStory !== activeStory\r\n        ) {\r\n            let pageScrollPosition = scrollPosition[activeStory + \"_\" + activeView + \"_\" + activePanel] || 0;\r\n\r\n            window.scroll(0, pageScrollPosition);\r\n        }\r\n    }\r\n\r\n    getProfile() {\r\n      connect.send(\"VKWebAppGetUserInfo\", {});\r\n    }\r\n    async serverGet(){\r\n      const result = await fetch('https://demo146.bravo.vkhackathon.com/api/v1/challangeContainer/getSportChallenges', {\r\n      method: \"GET\",\r\n      // body: JSON.stringify(''),\r\n    }).then(res => res.json())\r\n    .then(json => console.log(json));\r\n    }\r\n\r\n    render() {\r\n        const {goBack, setStory, closeModal, popouts, activeView, activeStory, activePanel, activeModals, panelsHistory, colorScheme} = this.props;\r\n\r\n        let history = (panelsHistory[activeView] === undefined) ? [activeView] : panelsHistory[activeView];\r\n        let popout = (popouts[activeView] === undefined) ? null : popouts[activeView];\r\n        let activeModal = (activeModals[activeView] === undefined) ? null : activeModals[activeView];\r\n\r\n        const homeModals = (\r\n            <ModalRoot activeModal={activeModal}>\r\n                <HomeBotsListModal\r\n                    id=\"MODAL_PAGE_BOTS_LIST\"\r\n                    onClose={() => closeModal()}\r\n                />\r\n                <HomeBotInfoModal\r\n                    id=\"MODAL_PAGE_BOT_INFO\"\r\n                    onClose={() => closeModal()}\r\n                />\r\n            </ModalRoot>\r\n        );\r\n\r\n\r\n\r\n        return (\r\n            <ConfigProvider isWebView={true} scheme={colorScheme}>\r\n                <Epic activeStory={activeStory} tabbar={\r\n                    <Tabbar className=\"epic\">\r\n                        <TabbarItem\r\n                            onClick={() => setStory('market', 'store')}\r\n                            selected={activeStory === 'market'}\r\n                        ><Icon28MarketOutline/></TabbarItem>\r\n                        <TabbarItem\r\n                            onClick={ e => this.serverGet()&&setStory('more', 'callmodal')}\r\n                            selected={activeStory === 'more'}\r\n                        ><Icon28ArticleOutline/></TabbarItem>\r\n                        <TabbarItem\r\n                            onClick={() => setStory('home', 'base')}\r\n                            selected={activeStory === 'home'}\r\n                        ><Icon28User/></TabbarItem>\r\n                    </Tabbar>\r\n                }>\r\n                    <Root id=\"home\" activeView={activeView} popout={popout}>\r\n                        <View\r\n                            id=\"home\"\r\n                            modal={homeModals}\r\n                            activePanel={activePanel}\r\n                            history={history}\r\n                            onSwipeBack={() => goBack()}\r\n                        >\r\n                            <HomePanelBase id=\"base\" withoutEpic={false}/>\r\n                            <HomePanelGroups id=\"groups\"/>\r\n                        </View>\r\n                    </Root>\r\n                    <Root id=\"market\" activeView={activeView} popout={popout}>\r\n                        <View\r\n                            id=\"market\"\r\n                            modal={homeModals}\r\n                            activePanel={activePanel}\r\n                            history={history}\r\n                            onSwipeBack={() => goBack()}\r\n                        >\r\n                            <Market id=\"store\" withoutEpic={false}/>\r\n                        </View>\r\n                    </Root>\r\n                    <Root id=\"more\" activeView={activeView} popout={popout}>\r\n                        <View\r\n                            id=\"more\"\r\n                            modal={homeModals}\r\n                            activePanel={activePanel}\r\n                            history={history}\r\n                            onSwipeBack={() => goBack()}\r\n                        >\r\n                            <MorePanelBase id=\"callmodal\"/>\r\n                        </View>\r\n                        <View\r\n                            id=\"modal\"\r\n                            modal={homeModals}\r\n                            activePanel={activePanel}\r\n                            history={history}\r\n                            onSwipeBack={() => goBack()}\r\n                        >\r\n                            <MorePanelExample id=\"filters\"/>\r\n                        </View>\r\n                    </Root>\r\n                </Epic>\r\n            </ConfigProvider>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        activeView: state.router.activeView,\r\n        activePanel: state.router.activePanel,\r\n        activeStory: state.router.activeStory,\r\n        panelsHistory: state.router.panelsHistory,\r\n        activeModals: state.router.activeModals,\r\n        popouts: state.router.popouts,\r\n        scrollPosition: state.router.scrollPosition,\r\n\r\n        colorScheme: state.vkui.colorScheme\r\n    };\r\n\r\n};\r\n\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n    return {\r\n        dispatch,\r\n        ...bindActionCreators({setStory, goBack, closeModal}, dispatch)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","import 'core-js/es6/map';\r\nimport 'core-js/es6/set';\r\n\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport {applyMiddleware, createStore} from \"redux\";\r\nimport thunk from 'redux-thunk';\r\nimport {Provider} from 'react-redux';\r\nimport rootReducer from './js/store/reducers';\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\n\r\nimport {setStory} from \"./js/store/router/actions\";\r\n\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport './css/main.css';\r\n\r\nimport App from './App';\r\n\r\nimport connect from '@vkontakte/vk-connect';\r\n\r\n\r\nexport const store = createStore(rootReducer, composeWithDevTools(\r\n    applyMiddleware(thunk),\r\n));\r\n\r\nconnect.subscribe((e) => console.log(e));\r\n\r\nstore.dispatch(setStory('home', 'base'));\r\n\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App/>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}